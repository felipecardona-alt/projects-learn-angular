<section class="mx-5 mb-5">
  <h1 class="text-2xl font-bold">Pipes no tan comunes</h1>
  <h3 class="text-2xl">Pipes incluidos en Angular</h3>
</section>

<section class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4">
  <card-pipe
    title="i18nSelectPipe"
  >
  <p>Saludos {{ client().name }}, es un placer {{ client().gender | i18nSelect: invitationMap}} a nuestro evento!</p>
  <button (click)="changeClient()" class="btn btn-primary">Cambiar cliente</button>
  </card-pipe>

  <card-pipe
    title="i18pluralPipe"
  >
  <p>Actualmente {{ clients().length | i18nPlural: clientsMap()}}</p>
  <button
    [disabled]="clients().length === 0"
    (click)="deleteClient()"
    class="btn btn-primary">Borrar cliente</button>
  </card-pipe>

  <card-pipe
    title="SlicePipe"
  >
  <p>SlicePipe</p>
  <p class="text-primary">{{ clients().join(', ') }}</p>
  <span class="mt-2 font-bold">Slice:0:2</span>
  <p class="text-primary">{{ clients() | slice:0:2 }}</p>
  <span class="mt-2 font-bold">Slice:1:3</span>
  <p class="text-primary">{{ clients() | slice:1:3 }}</p>
  <span class="mt-2 font-bold">Slice:3:4</span>
  <p class="text-primary">{{ clients() | slice:3:6 }}</p>
  <span class="mt-2 font-bold">Slice:0:-3</span>
  <p class="text-primary">{{ clients() | slice:0:-2 }}</p>
  </card-pipe>

  <card-pipe
    title="JsonPipe"
  >
  <p>JsonPipe</p>
  <pre class="text-primary">{{ clients() | json}}</pre>
  <pre class="text-primary">{{ client() | json | uppercase }}</pre>
  <pre class="text-primary">{{ client() | json  }}</pre>
  </card-pipe>

  <card-pipe
    title="KeyValuePipe"
  >
  <p>KeyValuePipe</p>
  <!--   <pre class="text-primary">{{ profile | keyvalue | json}}</pre> -->
   <ul>
    @for (item of profile| keyvalue; track $index) {
      <li>
        <span class="text-primary">
          <strong>{{ item.key | titlecase }}:</strong> {{ item.value }}
        </span>
      </li>
    }
   </ul>
  </card-pipe>

  <card-pipe
    title="AsyncPipe"
  >
  <p>AsyncPipe</p>
  @if (promiseValue | async; as value) {
    <p class="text-primary">El valor de la promesa es: {{value}}</p>
  } @else {
    <p class="text-primary">Cargando valor de la promesa...</p>
  }
  <h3 class="text-2xl">Observable con AsyncPipe</h3>
  @if (observableTimer | async; as timerValue) {
    <p class="text-primary">El valor del observable es: {{timerValue}}</p>
  } @else {
    <p class="text-primary">Cargando valor del observable...</p>
  }
  </card-pipe>
</section>
